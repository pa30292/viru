<!DOCTYPE html>
<html>
<head>
  <title>Tab Close Confirmation</title>
</head>
<body>

<script>
// Define the passcode
const passCode = 'passCode';

// Function to prompt for password
function promptForPassword() {
  const password = prompt('Enter password to close the tab:');
  if (password === passCode) {
    return true; // Password is correct
  } else {
    alert('Incorrect password. Please try again.');
    return false; // Password is incorrect
  }
}

// Add event listener for beforeunload to trigger confirmation
window.addEventListener('beforeunload', function (e) {
  const confirmationMessage = 'Are you sure you want to leave?';
  e.returnValue = confirmationMessage; // Gecko, Trident, Chrome 34+
  return confirmationMessage; // Gecko, WebKit, Chrome <34
});

// Add event listener for closing the window/tab
window.addEventListener('unload', function (e) {
  const confirmed = promptForPassword();
  if (!confirmed) {
    e.preventDefault();
  }
});
</script>

</body>
</html>
